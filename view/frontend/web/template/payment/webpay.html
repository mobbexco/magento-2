<div class="payment-method" data-bind="css: {'_active': (getCode() == isChecked() && onSelect())}">
    <div class="payment-method-title field choice">
        <input type="radio" name="payment[method]" class="radio"
            data-bind="attr: {'id': getCode()}, value: getCode(), checked: isChecked, click: selectPaymentMethod, visible: isRadioButtonVisible()" />
        <label data-bind="attr: {'for': getCode()}" class="label"><span data-bind="text: getTitle()"></span></label>
    </div>
    <div class="payment-method-content">
        <!-- ko foreach: getRegion('messages') -->
        <!-- ko template: getTemplate() -->
        <!-- /ko -->
        <!--/ko-->
        <div class="mobbex-content" style="padding: 20px 0">
            <img data-bind="attr: {src: getBanner()}" alt="mobbex metodos de pagos" class="mobbex-banner"
                style="max-width: 100%" />
        </div>
        <div class="payment-method-billing-address">
            <!-- ko foreach: $parent.getRegion(getBillingAddressFormName()) -->
            <!-- ko template: getTemplate() -->
            <!-- /ko -->
            <!--/ko-->
        </div>
        <div class="checkout-agreements-block">
            <!-- ko foreach: $parent.getRegion('before-place-order') -->
            <!-- ko template: getTemplate() -->
            <!-- /ko -->
            <!--/ko-->
        </div>
        <div class="mobbex-payment-methods" style="margin-bottom: 10px;">
            <h2>Selecciona un medio de pago</h2>

            <div class="mobbex-wallet">

                <!-- ko foreach: { data: getWalletCards(), as: 'card' } -->
                <li style="padding: 10px; background-color: #f5f5f5;">

                    <div style="display: flex; align-items: center; ">
                        <input name="mbbx-method" type="radio"
                            data-bind="attr: {'id': card.id, value: card.value}"
                            class="mbbx-payment-method-input mbbx-card">
                        <label data-bind="attr: {'for': card.id}" style="display: flex; align-items: center;">
                            <img style="width: 50px; margin-right: 10px;"
                                style="border-radius: 100%;margin: 0px 10px 0px 0px;"
                                data-bind="attr: {'src': card.img}">
                            <span data-bind="text: card.name" style="font-weight: bold;"></span>
                        </label>
                    </div>
                    
                    <div class="mobbex-wallet-form" data-bind="attr: {'id': card.value}"
                         style="display: none; margin-left: 25px;">
                        <select name="installment" style="max-width: 100px; padding: 0 9px;">
                            <!-- ko foreach: { data: card.installments, as: 'installment' } -->
                            <div class="mbbx-card-installments">
                                <option data-bind="text: installment.name, attr: {'value': installment.reference}"></option>
                            </div>
                            <!-- /ko -->
                        </select>
                        <input style="margin: 20px 0; max-width: 100px;" type="password"
                            data-bind="attr: {'maxlenght': card.maxlenght, 'placeholder': card.placeholder}" 
                            name="security-code" 
                            required >
                        <input type="hidden" name="intent-token" data-bind="attr: {'value': card.hiddenValue}">
                    </div>

                </li>
                <!-- /ko -->

            </div>

            <!-- ko foreach: { data: getPaymentMethods(), as: 'item' } -->
            <div class="mbbx-payment-method-title field choice">

                <li style="display: flex; align-items: center; padding: 10px; background-color: #f5f5f5;">
                    <input type="radio" class="mbbx-payment-method-input" name="mbbx-method"
                        data-bind="attr: {'id': item.id, value: item.value}" />

                    <label data-bind="attr: {'for': item.id}" class="label" style="display: flex; align-items: center;">
                        <img data-bind="attr: {'src': item.image}" alt="mobbex metodos de pago"
                            style="width: 50px; margin-right: 10px;">
                        <span data-bind="text: item.name" style="font-weight: bold;"></span>
                    </label>
                </li>

            </div>
            <!-- /ko -->
            
        </div>
        <div class="actions-toolbar">
            <div class="primary">
                <button class="action primary checkout" data-bind="
                        click: placeOrder,
                        attr: {title: $t('Place Order')},
                        css: {disabled: !isPlaceOrderActionAllowed()},
                        enable: (getCode() == isChecked())
                        " disabled type="submit">
                    <span data-bind="i18n: 'Place Order'"></span>
                </button>
            </div>
        </div>
    </div>
</div>
<div id="mbbx-container"></div>